<body>
	{{#if homeRaw}}
		{{> raw}}
	{{else}}
		<div id="bodyContainer">
			{{> header}}
			<div id="editor"></div>
			<script>
				var editor = ace.edit("editor");
				editor.setShowPrintMargin(false);
				editor.setTheme("ace/theme/monokai");
			</script>
			{{> footer}}
		</div>
		{{> slideout}}
	{{/if}}
	{{> tooltips }}
</body>

<template name = "raw">
	<pre style="background:white;">{{rawText}}</pre>
</template>

<template name = "header">
	<header class="headerFlex">
		{{#if homePage}}
		<div class="inputContainer">
			<input id="pasteName" type="text" name="title" placeholder="Enter title..." />
			<select id="selectLanguage">
				<option value="abap">Abap</option>
				<option value="abc">Abc</option>
				<option value="actionscript">Actionscript</option>
				<option value="ada">Ada</option>
				<option value="apache_conf">Apache conf</option>
				<option value="applescript">Applescript</option>
				<option value="asciidoc">Asciidoc</option>
				<option value="assembly_x86">Assembly_x86</option>
				<option value="autohotkey">Autohotkey</option>
				<option value="batchfile">Batchfile</option>
				<option value="behaviour">Behaviour</option>
				<option value="c9search">C9search</option>
				<option value="c_cpp">C C++</option>
				<option value="cirru">Cirru</option>
				<option value="clojure">Clojure</option>
				<option value="cobol">Cobol</option>
				<option value="coffee">Coffee</option>
				<option value="coldfusion">Coldfusion</option>
				<option value="csharp">Csharp</option>
				<option value="css">Css</option>
				<option value="curly">Curly</option>
				<option value="d">D</option>
				<option value="dart">Dart</option>
				<option value="diff">Diff</option>
				<option value="django">Django</option>
				<option value="dockerfile">Dockerfile</option>
				<option value="dot">Dot</option>
				<option value="eiffel">Eiffel</option>
				<option value="ejs">Ejs</option>
				<option value="elixir">Elixir</option>
				<option value="elm">Elm</option>
				<option value="erlang">Erlang</option>
				<option value="forth">Forth</option>
				<option value="ftl">Ftl</option>
				<option value="gcode">Gcode</option>
				<option value="gherkin">Gherkin</option>
				<option value="gitignore">Gitignore</option>
				<option value="glsl">Glsl</option>
				<option value="golang">Golang</option>
				<option value="groovy">Groovy</option>
				<option value="haml">Haml</option>
				<option value="handlebars">Handlebars</option>
				<option value="haskell">Haskell</option>
				<option value="haxe">Haxe</option>
				<option value="html">Html</option>
				<option value="html_ruby">Html ruby</option>
				<option value="ini">Ini</option>
				<option value="io">Io</option>
				<option value="jack">Jack</option>
				<option value="jade">Jade</option>
				<option value="java">Java</option>
				<option value="javascript">Javascript</option>
				<option value="json">Json</option>
				<option value="jsoniq">Jsoniq</option>
				<option value="jsp">Jsp</option>
				<option value="jsx">Jsx</option>
				<option value="julia">Julia</option>
				<option value="latex">Latex</option>
				<option value="lean">Lean</option>
				<option value="less">Less</option>
				<option value="liquid">Liquid</option>
				<option value="lisp">Lisp</option>
				<option value="livescript">Livescript</option>
				<option value="logiql">Logiql</option>
				<option value="lsl">Lsl</option>
				<option value="lua">Lua</option>
				<option value="luapage">Luapage</option>
				<option value="lucene">Lucene</option>
				<option value="makefile">Makefile</option>
				<option value="markdown">Markdown</option>
				<option value="mask">Mask</option>
				<option value="matlab">Matlab</option>
				<option value="maze">Maze</option>
				<option value="mel">Mel</option>
				<option value="mushcode">Mushcode</option>
				<option value="mysql">Mysql</option>
				<option value="nix">Nix</option>
				<option value="objectivec">Objective C</option>
				<option value="ocaml">Ocaml</option>
				<option value="pascal">Pascal</option>
				<option value="perl">Perl</option>
				<option value="pgsql">Pgsql</option>
				<option value="php">Php</option>
				<option value="plain_text" selected="selected">Plain text</option>
				<option value="powershell">Powershell</option>
				<option value="praat">Praat</option>
				<option value="haml">Pokemon</option>
				<option value="prolog">Prolog</option>
				<option value="properties">Properties</option>
				<option value="protobuf">Protobuf</option>
				<option value="python">Python</option>
				<option value="r">R</option>
				<option value="rdoc">Rdoc</option>
				<option value="rhtml">Rhtml</option>
				<option value="ruby">Ruby</option>
				<option value="rust">Rust</option>
				<option value="sass">Sass</option>
				<option value="scad">Scad</option>
				<option value="scala">Scala</option>
				<option value="scheme">Scheme</option>
				<option value="scss">Scss</option>
				<option value="sh">Sh</option>
				<option value="sjs">Sjs</option>
				<option value="smarty">Smarty</option>
				<option value="snippets">Snippets</option>
				<option value="soy_template">Soy template</option>
				<option value="space">Space</option>
				<option value="sql">Sql</option>
				<option value="sqlserver">Sqlserver</option>
				<option value="stylus">Stylus</option>
				<option value="svg">Svg</option>
				<option value="swift">Swift</option>
				<option value="tcl">Tcl</option>
				<option value="tex">Tex</option>
				<option value="text">Text</option>
				<option value="textile">Textile</option>
				<option value="toml">Toml</option>
				<option value="twig">Twig</option>
				<option value="typescript">Typescript</option>
				<option value="vala">Vala</option>
				<option value="vbscript">Vbscript</option>
				<option value="velocity">Velocity</option>
				<option value="verilog">Verilog</option>
				<option value="vhdl">Vhdl</option>
				<option value="xml">Xml</option>
				<option value="xquery">Xquery</option>
				<option value="yaml">Yaml</option>
			</select>
		</div>
		<div class="controlsContainer">
			<button id="submitPaste" data-tooltip="Save" data-tooltip-direction="s" class="btn-ghost">
				<i class="fa fa-plus"></i>
			</button>
			<button id="encryptPaste" data-tooltip="Encrypt" data-tooltip-direction="s" class="btn-ghost">
				<i class="fa fa-key"></i>
			</button>
			{{> controls}}
		</div>
		{{/if}}



		
		{{#if homePaste}}
			<button class="btn-ghost" id="home" onclick="location.href='{{siteName}}';">
				<i class="fa fa-plane"></i>
			</button>
			<div id="pasteName">
				{{#if isFork}}
					<i class="fa fa-code-fork"></i>
				{{/if}}
				{{title}}	
				<div id="pasteLang" class="pasteLang">({{lang}})</div>
			</div>
			<div id="controls">
				<button class="btn-ghost new-download" data-tooltip="Save to PC" data-tooltip-direction="s">
					<i class="fa fa-cloud-download"></i>
				</button>
				<button class="btn-ghost copyPasteUrl" data-clipboard-text="{{pasteUrl}}" data-tooltip="Copy link to clipboard" data-tooltip-direction="s">
					<i class="fa fa-clipboard"></i>
				</button>
				<button class="btn-ghost" onclick="window.open('{{siteName}}/pastes/{{pasteName}}/raw','blank');" data-tooltip="View Raw" data-tooltip-direction="s">
					<i class="fa fa-file-code-o"></i>
				</button>
				<button class="btn-ghost new-fork" data-tooltip="Fork" data-tooltip-direction="s">
					<i class="fa fa-code-fork"></i>
				</button>
				<button class="btn-ghost new-bookmark" data-tooltip="Save in your files" data-tooltip-direction="s">
					<i class="fa fa-bookmark"></i>
				</button>
				{{> controls}}
			</div>
		{{/if}}
	</header>
</template>	

<template name="footer">
	<footer>
		<div class="elem stats">
			Rows: 402
		</div>
		<div class="elem file-type">
			javascript
		</div>
	</footer>
</template>

<template name="slideout">
	<nav id="menu">
		<div class="pure-menu pure-menu-scrollable custom-restricted">
			<a href="#" class="pure-menu-heading">Your pastes</a>
			<ul class="pure-menu-list">
				{{#if userPastesLoaded}}
					{{#each userPastes}}
						<li class="pure-menu-item">
							<a href="{{siteName}}/pastes/{{name}}" class="pure-menu-link">
							{{#if isFork}}
								{{#if forkedFrom}}
									<i class="fa fa-code-fork" onclick="window.open('{{siteName}}/pastes/{{forkedFrom}}','blank');"></i>
								{{else}}
									<i class="fa fa-code-fork"></i>
								{{/if}}
							{{/if}}
							{{#if isEncry}}
								<i class="fa fa-key"></i>
							{{/if}}
							{{title}}
							<div class="pasteLang">({{language}})</div>
							</a>
							<div class="delete-container">
								<i class="delete delete-paste fa fa-trash-o" data-attr="{{_id}}"></i>
							</div>
							
						</li>
					{{/each}}
				{{/if}}
			</ul>
			<a href="#" class="pure-menu-heading">Your bookmarks</a>
			<ul class="pure-menu-list">
			{{#each userBookmarks}}
				<li class="pure-menu-item pure-menu-bookmarks"><a href="{{siteName}}/pastes/{{bookmarkLink}}" class="pure-menu-link">
					{{#if isEncry}} <!-- not impemented right now -->
						<i class="fa fa-key"></i>
					{{/if}}
					<i class="fa fa-bookmark-o"></i>
					{{bookmarkTitle}}
					</a>
					<div class="delete-container"><i class="delete delete-bookmark fa fa-trash-o" data-attr="{{_id}}"></i></div>
				</li>
			{{/each}}
			</ul>
		</div>
		<div class="shortcuts">
			<div>
				Open settings:<kbd>Ctrl</kbd>+<kbd>←</kbd>
			</div>
			<div>
				Close settings:<kbd>Ctrl</kbd>+<kbd>→</kbd>
			</div>
			<div>
				Download paste:<kbd>Ctrl</kbd>+<kbd>↓</kbd>
			</div>
			
		</div>
	</nav>
	<script>
		slideout = new Slideout({
			'panel': document.getElementById('bodyContainer'),
			'menu': document.getElementById('menu'),
			'padding': 256,
			'tolerance': 70,
			'side': 'right'
		});
	</script>
</template>	

<template name="controls">
	<button class="btn-ghost" id="tools" data-tooltip="Manage" data-tooltip-direction="s">
		<i class="fa fa-briefcase"></i>
	</button>
</template>